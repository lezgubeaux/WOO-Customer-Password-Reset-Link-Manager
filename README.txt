=== WOO Customer Password Reset Link Manager ===
Contributors: 
Donate link: https://framework.tech
Tags: comments, spam
Requires at least: 6.0.1
Tested up to: 6.2
WooCommerce at least: 7.3.0
WooCommerce tested up to: 7.4.0
License: GPLv2 or later
License URI: http://www.gnu.org/licenses/gpl-2.0.html

== Description ==

When browsing a WOO Order - display a link to the customer's password reset. The link is live-updated on any event related to customer passwords.
The reset link changes on a several events (like: a user opens the link, a user re-request it, link expires, etc). The plugin takes care of updating the content of the Order Details field where the link is stored. 

A few notes about the sections above:

    Note that the `readme.txt` of the stable tag is the one that is considered the defining one for the plugin, so
if the `/trunk/readme.txt` file says that the stable tag is `4.3`, then it is `/tags/4.3/readme.txt` that'll be used
for displaying information about the plugin.  In this situation, the only thing considered from the trunk `readme.txt`
is the stable tag pointer.  Thus, if you develop in trunk, you can update the trunk `readme.txt` to reflect changes in
your in-development version, without having that information incorrectly disclosed about the current stable version
that lacks those changes -- as long as the trunk's `readme.txt` points to the correct stable tag.

    If no stable tag is provided, it is assumed that trunk is stable, but you should specify "trunk" if that's where
you put the stable version, in order to eliminate any doubt.

== Installation ==

1) Upload and install just like any other WordPress plugin.
Requirements: 
WP 6.0.1+ 
WOO 7.3.0+
PHP 7.4.32+

2) After the plugin is installed, setup Zoho Feed:
At Dashboard/WooCommerce/ZohoFeed, choose 
“Sales Order - Create Order - Not Completed” (and, one by one, any other Zoho Feed that you created for “Order” WOO case - skip Contact and Hashes).

3) Add New Field to Order info fieldset
Type to search for “Password reset link” and 
choose “pass_reset” as a “Standard Field”
SAVE

3a) If the field “pass_reset” does not show, try:
At “Select Zoho Object” block: [ Refresh Fields ]
or [ Refresh Objects ]
or, when adding field, choose Custom Field, and type-in the name “pass_reset”

Now, when the customer creates an Order, or the Order status changes, it will pick the password_reset_link (already generated by the plugin), and send it to Zoho (as the field named “pass_reset“). 

== Frequently Asked Questions ==

= A question that someone might have =

An answer to that question.

= What about foo bar? =

Answer to foo bar dilemma.

== Screenshots ==

1. -

== Changelog ==

= 1.3.1 =
wp_remote debug log fixed in includes/...-ad-link.php.

restrict to customers only:
-reset link expiration extension 
-save reset_key on 'retrieve_password_key'

= 1.3.0 =
Saving user_activation_key reset_key as Profile fields (so when reset link is generated by WP, it is cloned from it, not new one regenerated).

When reset link used, reset_key is saved, PRL cloned, saved and pushed to CRM.

= 1.2.3 =
On new order creation, PRL created and added to Order. Not pushed to CRM anymore - as CRM pulls complete oder soon after submission. 

new order hook was not properly working (some users did not get PRL pushed to CRM). Fixed by replacing hook.

= 1.2.2 =
On user using reset pass link (password change) new PRL is created

Order creation: 
a) add PRL to Profile and Order upon starting to create order
b) send to CRM when Order saved to DB.

function renamed wc_add_custom_fields_to_order->PRL_to_order_and_crm.

Username with space conversion to proper string for creating an url.
Non-existing user ignored - escape from all functions and log the error.
Additional info to log, coming from Zoho Webhook response.

= 1.2.1 =
Order Created now does not fire PRL too soon.

Fixed the bug of wrong parameters passed to wc_add_custom_fields_to_order(), when an Order changes its status (new function created, for this hook).
Order Status changed - now fires PRL.

= 1.2.0 =
Fixed: some error logs where missing data

= 1.1.0 =
'password_reset' hook used to FORCE regenerating PRL when link used.
New Order event covered with PRL generation (and update of the link to Profile, Order, and CRM).
Multiple minor fixes and wp function returns check ups.
Multiple breakpoints added with ve_debug_log

= 1.0.0 =
On event of reset password link being used, a WP 'password_reset_expiration' is being used to check if the link expired or not. This action is filtered by a function that generates new PRL, saves it to DB and sends to Zoho CRM.

= 0.0.0 = 
Initial boilerplate setup.
The plugin took over the role of WOO Customer Password Reset Link Manager. This is not a lite version of it, as the previous plugin is completely abandoned now.
WOO Customer Password Reset Link Manager Lite does not miss any useful features from the previous plugin - but is created on simpler, more effective approach.

== Arbitrary section ==

-

== A brief Markdown Example ==

-

Here's a link to [WordPress](http://wordpress.org/ "Your favorite software") and one to [Markdown's Syntax Documentation][markdown syntax].
Titles are optional, naturally.

[markdown syntax]: http://daringfireball.net/projects/markdown/syntax
            "Markdown is what the parser uses to process much of the readme file"

Markdown uses email style notation for blockquotes and I've been told:
> Asterisks for *emphasis*. Double it up  for **strong**.

`<?php code(); // goes in backticks ?>`